import { useState } from "react";
import { useNavigate } from "react-router-dom";

interface SidebarAdministradorProps {
  onSair?: () => void;
}

export default function SidebarAdministrador({ onSair }: SidebarAdministradorProps) {
  const [activeItem, setActiveItem] = useState("dashboard");
  const navigate = useNavigate();

  const menuItems = [
    {
      id: "dashboard",
      nome: "Dashboard",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M11.66 17.485L11.66 10.845L8.34 10.845L8.34 17.485C8.34 17.9434 7.96839 18.315 7.51 18.315C7.05161 18.315 6.68 17.9434 6.68 17.485L6.68 10.845C6.68 10.4048 6.85502 9.98263 7.16633 9.67129C7.47764 9.36004 7.89974 9.185 8.34 9.185L11.66 9.185C12.1002 9.185 12.5224 9.36004 12.8337 9.67129C13.145 9.98263 13.32 10.4048 13.32 10.845L13.32 17.485C13.32 17.9434 12.9484 18.315 12.49 18.315C12.0316 18.315 11.66 17.9434 11.66 17.485Z" fill="currentColor"/>
          <path d="M16.64 8.33466L16.6351 8.24469C16.6254 8.15509 16.6011 8.06745 16.563 7.98532C16.5122 7.87582 16.438 7.77875 16.3458 7.70082L16.3417 7.69677L10.5358 2.72082C10.4046 2.60998 10.2429 2.54371 10.073 2.52872L10 2.52548C9.80387 2.52548 9.61405 2.59502 9.46423 2.72163L9.4634 2.72082L3.65828 7.69677L3.65422 7.70082C3.56204 7.77875 3.48781 7.87582 3.437 7.98532C3.38623 8.09477 3.36 8.21402 3.36 8.33466L3.36 15.8047C3.36 16.0248 3.4475 16.2366 3.60316 16.3923C3.7588 16.5479 3.96997 16.6347 4.19 16.6347L15.81 16.6347C16.03 16.6347 16.2412 16.5479 16.3968 16.3923C16.5525 16.2366 16.64 16.0248 16.64 15.8047L16.64 8.33466ZM18.3 15.8047C18.3 16.465 18.0375 17.099 17.5705 17.5659C17.1036 18.0328 16.4703 18.2947 15.81 18.2947L4.19 18.2947C3.52971 18.2947 2.89643 18.0328 2.42949 17.5659C1.96253 17.099 1.7 16.465 1.7 15.8047L1.7 8.33466C1.7 7.9727 1.77867 7.61498 1.931 7.28663C2.08343 6.95812 2.3061 6.66691 2.58269 6.43313L8.38864 1.45718L8.3927 1.45393L8.56692 1.31938C8.98499 1.02512 9.48523 0.865479 10 0.865479L10.2196 0.875206C10.6561 0.913851 11.0747 1.06718 11.4331 1.31938L11.6073 1.45393L11.6114 1.45718L17.4173 6.43313L17.5186 6.5231C17.7485 6.73998 17.9356 6.99915 18.069 7.28663C18.2213 7.61498 18.3 7.9727 18.3 8.33466V15.8047Z" fill="currentColor"/>
        </svg>
      ),
    },
    {
      id: "gerenciamento-usuarios",
      nome: "Gerenciamento de Usuários",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M0.849998 17.49L0.849998 15.83C0.849998 14.7293 1.28754 13.6741 2.06582 12.8958C2.8441 12.1176 3.89935 11.68 5 11.68H8.32C8.77841 11.68 9.15 12.0516 9.15 12.51C9.15 12.9684 8.77841 13.34 8.32 13.34H5C4.33961 13.34 3.70646 13.6025 3.23949 14.0695C2.77253 14.5364 2.51 15.1696 2.51 15.83L2.51 17.49C2.51 17.9484 2.13839 18.32 1.68 18.32C1.22161 18.32 0.849998 17.9484 0.849998 17.49Z" fill="currentColor"/>
          <path d="M12.4525 12.6655C12.8554 12.5445 13.2922 12.746 13.4567 13.1429C13.632 13.5663 13.4311 14.052 13.0077 14.2274L12.2418 14.5443C11.8182 14.7195 11.3326 14.5187 11.1572 14.0953C10.982 13.6718 11.1829 13.1861 11.6062 13.0107L12.3731 12.6939L12.4525 12.6655Z" fill="currentColor"/>
          <path d="M16.66 12.5C16.66 11.5832 15.9168 10.84 15 10.84C14.0832 10.84 13.34 11.5832 13.34 12.5C13.34 13.4168 14.0832 14.16 15 14.16C15.9168 14.16 16.66 13.4168 16.66 12.5ZM18.32 12.5C18.32 14.3335 16.8336 15.82 15 15.82C13.1664 15.82 11.68 14.3335 11.68 12.5C11.68 10.6664 13.1664 9.17999 15 9.17999C16.8336 9.17999 18.32 10.6664 18.32 12.5Z" fill="currentColor"/>
          <path d="M9.99 5.82999C9.99 4.45481 8.87523 3.33999 7.5 3.33999C6.12481 3.33999 5.01 4.45481 5.01 5.82999C5.01 7.20518 6.12481 8.31999 7.5 8.31999C8.87523 8.31999 9.99 7.20518 9.99 5.82999ZM11.65 5.82999C11.65 8.12197 9.79196 9.97999 7.5 9.97999C5.20802 9.97999 3.35 8.12197 3.35 5.82999C3.35 3.53801 5.20802 1.67999 7.5 1.67999C9.79196 1.67999 11.65 3.53801 11.65 5.82999Z" fill="currentColor"/>
        </svg>
      ),
    },
    {
      id: "configuracoes-sistema",
      nome: "Configurações do Sistema",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M16.655 5C17.1134 5 17.485 5.37161 17.485 5.83C17.485 6.28839 17.1134 6.66 16.655 6.66L9.185 6.66C8.72659 6.66 8.355 6.28839 8.355 5.83C8.355 5.37161 8.72659 5 9.185 5L16.655 5Z" fill="currentColor"/>
          <path d="M11.655 13.34C12.1134 13.34 12.485 13.7116 12.485 14.17C12.485 14.6284 12.1134 15 11.655 15L4.185 15C3.72661 15 3.355 14.6284 3.355 14.17C3.355 13.7116 3.72661 13.34 4.185 13.34L11.655 13.34Z" fill="currentColor"/>
          <path d="M15.83 14.17C15.83 13.2532 15.0868 12.51 14.17 12.51C13.2532 12.51 12.51 13.2532 12.51 14.17C12.51 15.0869 13.2532 15.83 14.17 15.83C15.0868 15.83 15.83 15.0869 15.83 14.17ZM17.49 14.17C17.49 16.0036 16.0036 17.49 14.17 17.49C12.3365 17.49 10.85 16.0036 10.85 14.17C10.85 12.3365 12.3365 10.85 14.17 10.85C16.0036 10.85 17.49 12.3365 17.49 14.17Z" fill="currentColor"/>
          <path d="M7.49 5.83001C7.49 4.91322 6.7468 4.17001 5.83 4.17001C4.91321 4.17001 4.17 4.91322 4.17 5.83001C4.17 6.7468 4.91321 7.49001 5.83 7.49001C6.7468 7.49001 7.49 6.7468 7.49 5.83001ZM9.15 5.83001C9.15 7.6636 7.66359 9.15001 5.83 9.15001C3.99642 9.15001 2.51 7.6636 2.51 5.83001C2.51 3.99642 3.99642 2.51001 5.83 2.51001C7.66359 2.51001 9.15 3.99642 9.15 5.83001Z" fill="currentColor"/>
        </svg>
      ),
    },
    {
      id: "permissoes",
      nome: "Permissões",
      icon: (
        <svg
          className="h-5 w-5 flex-shrink-0"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M10 1.66699C5.3975 1.66699 1.66669 5.3978 1.66669 10.0003C1.66669 14.6028 5.3975 18.3337 10 18.3337C14.6025 18.3337 18.3334 14.6028 18.3334 10.0003C18.3334 5.3978 14.6025 1.66699 10 1.66699ZM10 3.33366C13.682 3.33366 16.6667 6.31829 16.6667 10.0003C16.6667 13.6823 13.682 16.667 10 16.667C6.31802 16.667 3.33335 13.6823 3.33335 10.0003C3.33335 6.31829 6.31802 3.33366 10 3.33366ZM9.16669 6.66699V10.8337H13.3334V9.16699H10.8334V6.66699H9.16669Z" fill="currentColor"/>
        </svg>
      ),
    },
  ];

  return (
    <div className="flex h-screen w-56 md:w-64 flex-col border-r border-sis-border bg-white p-1">
      <div className="flex flex-1 flex-col p-2">
        <div className="mb-2 flex items-center px-2 py-2">
          <svg className="h-6 w-6 flex-shrink-0" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="24" height="24" stroke="white" />
            <path d="M9.475 16.1803C9.66665 15.4805 10.3923 15.0629 11.0921 15.2545C11.7919 15.4461 12.2096 16.1718 12.018 16.8716L11.001 20.6633C10.9196 20.9676 10.6246 21.1479 10.3203 21.0665L9.34354 20.8036C9.03922 20.7222 8.85886 20.4272 8.94028 20.1229L9.475 16.1803Z" fill="#0F74C7" />
            <path d="M13.9681 14.2019C14.397 13.773 15.0855 13.773 15.5144 14.2019L18.399 17.0864C18.6395 17.3269 18.6395 17.7163 18.399 17.9569L17.6121 18.7438C17.3716 18.9843 16.9823 18.9843 16.7418 18.7438L13.8573 15.8593C13.4283 15.4304 13.4283 14.742 13.8573 14.3131Z" fill="#0F74C7" />
          </svg>
          <h1 className="ml-2 font-open-sans text-lg font-bold italic text-sis-blue">SisDisciplinar</h1>
        </div>
        {/* Menu de Navegação */}
        <div className="mb-auto space-y-1 p-2">
          {menuItems.map((item) => (
            <button
              key={item.id}
              onClick={() => {
                setActiveItem(item.id);
                if (item.id === "dashboard") navigate("/administrador");
                if (item.id === "gerenciamento-usuarios") navigate("/administrador/usuarios");
                if (item.id === "configuracoes-sistema") navigate("/administrador/configuracoes");
                if (item.id === "permissoes") navigate("/administrador/permissoes");
              }}
              className={`flex w-full items-center space-x-3 rounded-md px-2 py-2.5 text-left font-roboto text-sm font-medium transition-colors ${
                activeItem === item.id
                  ? "bg-gray-100 text-sis-dark-text"
                  : "text-sis-secondary-text hover:bg-gray-50 hover:text-sis-dark-text"
              }`}
            >
              <div
                className={
                  activeItem === item.id ? "text-sis-dark-text" : "text-sis-secondary-text"
                }
              >
                {item.icon}
              </div>
              <span>{item.nome}</span>
            </button>
          ))}
        </div>

        {/* Botão Sair */}
        <div className="p-2">
          <button
            onClick={onSair}
            className="flex w-full items-center justify-center space-x-4 rounded-md bg-red-500 px-3 py-2.5 font-roboto text-sm font-medium text-white hover:bg-red-600"
          >
            <svg
              className="h-4 w-4"
              width="17"
              height="16"
              viewBox="0 0 17 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M1.82001 12.69L1.82001 3.31C1.82001 2.77692 2.03193 2.26582 2.40888 1.88887C2.78583 1.51192 3.29692 1.3 3.83001 1.3L6.51001 1.3C6.88004 1.3 7.18001 1.59998 7.18001 1.97C7.18001 2.34003 6.88004 2.64 6.51001 2.64L3.83001 2.64C3.65231 2.64 3.48195 2.71064 3.3563 2.83629C3.23065 2.96194 3.16001 3.13231 3.16001 3.31L3.16001 12.69C3.16001 12.8677 3.23065 13.0381 3.3563 13.1637C3.48195 13.2894 3.65231 13.36 3.83001 13.36H6.51001C6.88004 13.36 7.18001 13.66 7.18001 14.03C7.18001 14.4 6.88004 14.7 6.51001 14.7H3.83001C3.29692 14.7 2.78583 14.4881 2.40888 14.1111C2.03193 13.7342 1.82001 13.2231 1.82001 12.69Z" fill="white"/>
              <path d="M10.6813 4.1763C10.9266 3.931 11.3145 3.91586 11.5776 4.1305L11.6287 4.1763L14.9787 7.52631C15.2403 7.78795 15.2403 8.21205 14.9787 8.47369L11.6287 11.8237C11.3671 12.0854 10.943 12.0854 10.6813 11.8237C10.4196 11.5621 10.4196 11.1379 10.6813 10.8763L13.5576 8L10.6813 5.12372L10.6355 5.07268C10.4208 4.80953 10.436 4.42159 10.6813 4.1763Z" fill="white"/>
              <path d="M14.52 7.33C14.8901 7.33 15.19 7.62996 15.19 8C15.19 8.37004 14.8901 8.67 14.52 8.67L6.48001 8.67C6.10999 8.67 5.81001 8.37004 5.81001 8C5.81001 7.62996 6.10999 7.33 6.48001 7.33L14.52 7.33Z" fill="white"/>
            </svg>
            <span>Sair</span>
          </button>
        </div>
      </div>
    </div>
  );
}
